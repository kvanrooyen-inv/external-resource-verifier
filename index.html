<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Advanced Library Detector</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
      line-height: 1.6;
    }
    input, select, button {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      box-sizing: border-box;
    }
    .results {
      margin-top: 20px;
      padding: 15px;
      background-color: #f4f4f4;
      border-radius: 5px;
      word-wrap: break-word;
    }
    .error {
      color: red;
    }
    .success {
      color: green;
    }
  </style>
</head>
<body>
  <h1>Library Detector</h1>
  <input 
    type="text" 
    id="url" 
    placeholder="Enter website URL (e.g., https://example.com)"
  >
  <select id="library">
    <option value="bootstrap">Bootstrap</option>
    <option value="vue">Vue.js</option>
    <option value="react">React</option>
    <option value="tailwind">Tailwind CSS</option>
    <option value="jquery">jQuery</option>
    <option value="angular">Angular</option>
    <option value="fontAwesome">Font Awesome</option>
  </select>
  <button id="check">Detect Library</button>
  <div id="results" class="results">
    Results will appear here...
  </div>

  <script>
    document.getElementById('check').addEventListener('click', async () => {
      const url = document.getElementById('url').value;
      const library = document.getElementById('library').value;
      const resultsDiv = document.getElementById('results');

      // Reset results
      resultsDiv.textContent = 'Checking...';
      resultsDiv.className = 'results';

      // Basic URL validation
      if (!url.startsWith('http://') && !url.startsWith('https://')) {
        resultsDiv.textContent = 'Please enter a valid URL starting with http:// or https://';
        resultsDiv.classList.add('error');
        return;
      }

      try {
        // Using a fetch request without proxy to avoid CORS issues
        const response = await fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(url)}`);
        const data = await response.json();
        
        // Check if request was successful
        if (!data.contents) {
          throw new Error('Could not retrieve page contents');
        }

        const html = data.contents;

        // Library detection functions
        const detectionMethods = {
          bootstrap: (html) => 
            html.includes('bootstrap.css') || 
            html.includes('bootstrap.min.css') ||
            html.includes('cdn.jsdelivr.net/npm/bootstrap'),

          vue: (html) => 
            html.includes('vue.js') || 
            html.includes('vue.min.js') || 
            html.includes('Vue.js') ||
            html.includes('vue-router') ||
            html.includes('vuex'),

          react: (html) => 
            html.includes('react.js') ||
            html.includes('react.production.min.js') ||
            html.includes('react-dom.js'),

          tailwind: (html) => 
            html.includes('tailwind.css') ||
            html.includes('tailwindcss') ||
            html.includes('cdn.tailwindcss.com'),

          jquery: (html) => 
            html.includes('jquery.js') ||
            html.includes('jquery.min.js'),

          angular: (html) => 
            html.includes('angular.js') ||
            html.includes('angular.min.js') ||
            html.includes('@angular/core'),

          fontAwesome: (html) => 
            html.includes('font-awesome') ||
            html.includes('fontawesome') ||
            html.includes('fa-')
        };

        // Perform detection
        const result = detectionMethods[library](html.toLowerCase());

        if (result) {
          resultsDiv.textContent = `✅ ${library} detected on ${url}`;
          resultsDiv.classList.add('success');
        } else {
          resultsDiv.textContent = `❌ ${library} not detected on ${url}`;
          resultsDiv.classList.add('error');
        }

      } catch (error) {
        console.error('Detection error:', error);
        resultsDiv.textContent = `Error checking library: ${error.message}`;
        resultsDiv.classList.add('error');
      }
    });
  </script>
</body>
</html>
